<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>类中需要注意的几点</title>
    
</head>
<body>
    <button>点击</button>
    <!-- 这个script必须写在body下面，因为浏览器是一行一行从上到下执行的 -->
    <script type="text/javascript">
        var that;
        var _that;
        class Star{
            // 1)	在ES6中类没有变量提升，所有必须先定义类，才能同规格类实例化对象
            // 2)	类里面的共有的属性和方法一定要加this使用
            // 3)	类里面的this指向问题
            constructor(uname,age){
                // constructor里面的this指向的是创建的实例对象
                that=this;
                console.log(this);
                this.uname=uname;
                this.age=age;
                //在同一个类中调用方法必须加this
                // this.sing();
                //querySelector：获取页面的button按钮
                this.btn=document.querySelector('button');
                //点击事件
                this.btn.onclick=this.sing;
            }
            //方法或函数
            sing(){
                //这个sing方法里面的this指向的是btn这个按钮，因为这个按钮调用了这个函数
                console.log(this);
                console.log(that.uname);//that里面存储的是constructor里面的this
            }
            dance(){
                //这个dance里面的this，指向的是实例化对象ldh因为ldh调用了这个函数
                _that=this;
                console.log(this);
            }
        }
        var ldh=new Star('刘德华');
        console.log(that===ldh);
        ldh.sing();
        ldh.dance();
        console.log(_that===ldh);
    </script>
</body>
</html>